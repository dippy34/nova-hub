/*! For license information please see application-bb7ef722006cc082cf89.js.LICENSE.txt */
(self.webpackChunkapp=self.webpackChunkapp||[]).push([[107],{669:function(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js")},3058:function(){$((function(){$(".dropdown:not(.dropdown-lazy) .dropdown__link").on("click",(function(e,t){e.preventDefault();var n=$(this).closest(".dropdown");n.hasClass("show")?n.trigger("dropdown.close"):$(".dropdown.show").find(".dropdown__link").trigger("click",{closeForce:!0}),n.toggleClass("show").find(".dropdown__link").toggleClass("active"),t&&t.closeForce?n.find(".dropdown__menu").hide():n.hasClass("show")?n.find(".dropdown__menu").fadeIn(50):n.find(".dropdown__menu").fadeOut(150)})),$(document).on("click",(function(e){var t=$(".dropdown.show");t===e.target||t.has(e.target).length||(t.removeClass("show").find(".dropdown__menu").fadeOut(150),t.find(".dropdown__link").removeClass("active"),t.trigger("dropdown.close"))})),$(".overlay-mask").on("click",(function(e){e.preventDefault();var t=$(".dropdown");t.hasClass("show")&&(t.removeClass("show").find(".dropdown").fadeOut("150"),t.trigger("dropdown.close"))}))}))},4092:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function i(e,t,n){return t=c(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,n||[],c(e).constructor):t.apply(e,n))}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},s.apply(null,arguments)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}var u=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=i(this,t,[e,n])).filter="girls-games",r.filters=["girls-games",void 0],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(t,e),n=t,a=[{key:"perform",value:function(){var e,n,r,o,i;($(".switch--girls-games").length||$(".girls-filter").length)&&(e=t,n="perform",r=this,i=s(c(1&(o=2)?e.prototype:e),n,r),2&o&&"function"==typeof i?function(e){return i.apply(r,e)}:i)([t.labels()])}},{key:"labels",value:function(){var e=$("body").data("girls-labels");return void 0===e||""==e?[]:e.split(",")}}],(o=null)&&r(n.prototype,o),a&&r(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,a}(n(1816).A);t.A=u},189:function(e,t,n){"use strict";n(5764),n(4092);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function i(e,t,n){return t=l(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,n||[],l(e).constructor):t.apply(e,n))}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function s(e,t,n,r){var o=c(l(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},c.apply(null,arguments)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}!function(e,t,n){var o="Girl,Girls";function a(){t(document).trigger("girlsGamesFilterUpdated")}var c=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=i(this,n,[{container:e,cookie:"girls_games_filter"}])).isOn()?n.setLabels(""):n.setLabels(o),a.call(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(n,e),c=n,f=[{key:"setLabels",value:function(e){t("body").attr("data-girls-labels",e).data("girls-labels",e)}}],(l=[{key:"on",value:function(){s(n,"on",this,3)([]),n.setLabels("")}},{key:"off",value:function(){s(n,"off",this,3)([]),n.setLabels(o)}},{key:"switch",value:function(){s(n,"switch",this,3)([]),a.call()}}])&&r(c.prototype,l),f&&r(c,f),Object.defineProperty(c,"prototype",{writable:!1}),c;var c,l,f}(n);e.GirlsGamesSwitcher=c}(window,jQuery,ToggleSwitch),$((function(){$(".toggle-switch.girls-filter").each((function(){var e=new GirlsGamesSwitcher(this);$(this).on("click",(function(t){t.preventDefault(),e.switch()}))}))}))},8398:function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}function r(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindButtons()}return t=e,r=[{key:"loadCounters",value:function(){$(document).on("library-counters-ready",(function(t,n){n&&(e.updateCounterHtml(n.visited_items,"#visited-items-count"),e.updateCounterHtml(n.liked_items,"#liked-items-count"),e.updateCounterHtml(n.recommended_items,"#recommended-items-count"))}))}},{key:"showSidebarLinks",value:function(){(new UserInfo).isLoggedIn()&&($("#visited_items_link").show(),$("#liked_items_link").show())}},{key:"bindButtons",value:function(){$(".items-list").on("click",".delete-watched-video",(function(t){t.preventDefault(),e.remoteRequest("/profile/delete_visit",$(this).data("item-id"))})),$(document).on("click",".delete-upvote",(function(){e.remoteRequest("/profile/delete_upvote",$(this).data("item-id"))}))}}],o=[{key:"updateCounterHtml",value:function(e,t){var n="undefined"!=typeof e?e:0,r=$(".animations-active").length?"videos":"games",o=I18n.t("views.shared._header.sections."+r);$(t).html(n+" "+o)}},{key:"remoteRequest",value:function(e,t){$.ajax({url:e,data:{item_id:t},type:"POST",success:function(){$("#item_"+t).remove()},error:function(e){console.log(e)}})}}],r&&n(t.prototype,r),o&&n(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,o}();t.A=o},8101:function(){function e(){"use strict";e=function(){return n};var t,n={},r=Object.prototype,o=r.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(t){u=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),s=new x(r||[]);return i(a,"_invoke",{value:P(e,n,s)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var d="suspendedStart",p="suspendedYield",v="executing",m="completed",y={};function g(){}function b(){}function w(){}var k={};u(k,s,(function(){return this}));var $=Object.getPrototypeOf,O=$&&$($(L([])));O&&O!==r&&o.call(O,s)&&(k=O);var C=w.prototype=g.prototype=Object.create(k);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(r,i,a,s){var c=h(e[r],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var r;i(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,r){n(e,o,t,r)}))}return r=r?r.then(i,i):i()}})}function P(e,n,r){var o=d;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=j(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var l=h(e,n,r);if("normal"===l.type){if(o=r.done?m:p,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function j(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=h(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(typeof e+" is not iterable")}return b.prototype=w,i(C,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=u(w,l,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},n.awrap=function(e){return{__await:e}},T(S.prototype),u(S.prototype,c,(function(){return this})),n.AsyncIterator=S,n.async=function(e,t,r,o,i){void 0===i&&(i=Promise);var a=new S(f(e,t,r,o),i);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(C),u(C,l,"Generator"),u(C,s,(function(){return this})),u(C,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},n}function t(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}function r(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var o=function(){return r=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("Element is required");this.element=t,this.url=t.dataset.baseUrl,this.processing=!1,this.currentPage=this.getCurrentPage(),this.maxPage=parseInt(t.dataset.maxPage)||50,this.registerSeenItems(),this.createLoadMoreButton()},o=[{key:"registerSeenItems",value:function(){var e=this;this.seen=new Set,this.element.querySelectorAll(".item").forEach((function(t){t.dataset.itemId&&e.seen.add(t.dataset.itemId)}))}},{key:"loadMoreTranslation",get:function(){var e="animation"===window.appInfo.currentKind?"anim":"game";return I18n.t("views.tags.index.".concat(e),{defaultValue:"Load More"})}},{key:"spinnerHtml",get:function(){return'<svg width="30" height="30" stroke="#00000099" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><style>.spinner_V8m1{transform-origin:center;animation:spinner_zKoa 2s linear infinite}.spinner_V8m1 circle{stroke-linecap:round;animation:spinner_YpZS 1.5s ease-in-out infinite}@keyframes spinner_zKoa{100%{transform:rotate(360deg)}}@keyframes spinner_YpZS{0%{stroke-dasharray:0 150;stroke-dashoffset:0}47.5%{stroke-dasharray:42 150;stroke-dashoffset:-16}95%,100%{stroke-dasharray:42 150;stroke-dashoffset:-59}}</style><g class="spinner_V8m1"><circle cx="12" cy="12" r="9.5" fill="none" stroke-width="3"></circle></g></svg>'}},{key:"click",value:function(){this.loadMoreButton.style.display="none",this.spinner.style.display="flex",this.fetchNextPage()}},{key:"createLoadMoreButton",value:function(){if(!(this.currentPage>=this.maxPage)){this.loadMoreButton=document.createElement("div"),this.loadMoreButton.className="btn-load-more",this.loadMoreButton.textContent=this.loadMoreTranslation,this.loadMoreButton.addEventListener("click",this.click.bind(this));var e=document.createElement("div");e.innerHTML=this.spinnerHtml,this.spinner=e.firstElementChild,this.spinner.classList.add("spinner-load-more"),this.appendButton()}}},{key:"appendButton",value:function(){this.loadMoreButton&&this.spinner&&(this.spinner.style.display="none",this.element.insertAdjacentElement("afterend",this.loadMoreButton),this.loadMoreButton.insertAdjacentElement("afterend",this.spinner),this.currentPage<this.maxPage&&(this.loadMoreButton.style.display="flex"))}},{key:"appendItems",value:function(e){var t,n,r=this;e.filter((function(e){return!r.seen.has(e.dataset.itemId)})).forEach((function(e){r.seen.add(e.dataset.itemId),r.element.appendChild(e)})),null===(t=(n=window).lazyloadAll)||void 0===t||t.call(n),window.dispatchEvent(new Event("resize")),document.dispatchEvent(new CustomEvent("itemsListUpdated"))}},{key:"getQueryParam",value:function(e){return new URLSearchParams(window.location.search).get(e)}},{key:"getCurrentPage",value:function(){return parseInt(this.getQueryParam("page"))||1}},{key:"getOrder",value:function(){return this.getQueryParam("order")||"popularity"}},{key:"processLoadedHtml",value:function(e){var t=(new DOMParser).parseFromString(e,"text/html"),n=Array.from(t.querySelectorAll(".item.thumb"));0!==n.length&&(this.appendItems(n),this.appendButton(),this.processing=!1)}},{key:"fetchNextPage",value:(a=e().mark((function t(){var n,r,o,i;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.processing||this.maxPage<=this.currentPage)){e.next=2;break}return e.abrupt("return",!1);case 2:return this.processing=!0,this.currentPage+=1,n=new URLSearchParams({order:this.getOrder(),page:this.currentPage}),r={method:"GET",headers:{Accept:"text/html"}},e.prev=6,e.next=9,fetch("".concat(this.url,"?").concat(n),r);case 9:if((o=e.sent).ok){e.next=12;break}throw new Error("Failed to fetch page=".concat(this.currentPage,": ").concat(o.status));case 12:return e.next=14,o.text();case 14:i=e.sent,this.processLoadedHtml(i),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(6),this.processing=!1,e.t0.message.includes("404")?this.maxPage=this.currentPage-1:console.debug("LoadMoreItemsError",e.t0),this.appendButton();case 23:case"end":return e.stop()}}),t,this,[[6,18]])})),s=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=a.apply(e,n);function s(e){t(i,r,o,s,c,"next",e)}function c(e){t(i,r,o,s,c,"throw",e)}s(void 0)}))},function(){return s.apply(this,arguments)})}],o&&n(r.prototype,o),i&&n(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i,a,s}();document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll('.items-container[data-load-more-button="true"]').forEach((function(e){e.querySelectorAll(".item").length>=window.appInfo.per_page&&new o(e)}))}))},6890:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var i=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.croner=n,this.$element=t,this.cron=t.data("".concat(window.appInfo.currentKind,"-release-cron"))},(t=[{key:"start",value:function(){var e=this;setInterval((function(){return e.$element.html(e.countdown())}),1e3)}},{key:"countdown",value:function(){var e=new this.croner(this.cron,{timezone:"UTC"}),t=this.nextReleaseInDHMS(e.nextRun().getTime()/1e3),n=t.days>0?"".concat(t.days," D "):"",r=[t.hours,t.minutes,t.seconds].map((function(e){return"0".concat(e).slice(-2)}));return"".concat(n).concat(r.join(":"))}},{key:"now",get:function(){return Math.floor((new Date).getTime()/1e3)}},{key:"nextReleaseInDHMS",value:function(e){var t=e-this.now,n=Math.floor(t/86400);t-=86400*n;var r=Math.floor(t/3600)%24;t-=3600*r;var o=Math.floor(t/60)%60;return{days:n,hours:r,minutes:o,seconds:(t-=60*o)%60}}}])&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();-1===navigator.userAgent.indexOf("y8")&&$((function(){var e=$(".release-countdown");e.length&&n.e(4465).then(n.bind(n,4465)).then((function(t){var n=t.Cron;new i(e,n).start()})).catch((function(e){console.warn("Croner failed to load, next release counter will not work.")}))}))},3634:function(){$("#sort").select2({minimumResultsForSearch:1/0,templateResult:function(e){if(!e.id)return e.text;var t=$(e.element).data("icon");return t?$('<span class="icon-text-wrapper"><i class="icon icon--'+t+'"></i><span>'+e.text+"</span></span>"):e.text},templateSelection:function(e){return $('<span class="icon-text-wrapper"><i class="icon icon--bars"></i><span>'+e.text+"</span></span>")},width:"resolve"})},5764:function(){function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,t(o.key),o)}}function t(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}!function(t,n){"use strict";var r=function(){return t=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cookie=t.cookie,this.$container=n(t.container),this.$container.addClass(this.state()),this.setCookie(this.state())},(r=[{key:"switch",value:function(){this.isOff()?this.on():this.off()}},{key:"on",value:function(){this.$container.removeClass("off"),this.$container.addClass("on"),this.setCookie("on")}},{key:"off",value:function(){this.$container.removeClass("on"),this.$container.addClass("off"),this.setCookie("off")}},{key:"setCookie",value:function(e){Cookies.set(this.cookie,e)}},{key:"state",value:function(){return Cookies.get(this.cookie)||"on"}},{key:"isOff",value:function(){return"off"==this.state()}},{key:"isOn",value:function(){return"on"==this.state()}}])&&e(t.prototype,r),o&&e(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,o}();t.ToggleSwitch=r}(window,jQuery)},4026:function(e,t,n){"use strict";n(6126),n(4936),n(669),n(7656),n(189);var r=n(1816),o=n(4092);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}!function(e,t){var n="Girl,Girls",o=function(){function e(o){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$container=t(o),this.$checkbox=this.$container.find(".switch__checkbox"),this.$checkbox.on("change",(function(){i.updateState()})),!1===r.A.SETTINGS.girls&&(this.$checkbox.prop("checked",!1),e.setLabels(n))}return o=e,s=[{key:"setLabels",value:function(e){t("body").attr("data-girls-labels",e).data("girls-labels",e)}}],(a=[{key:"updateState",value:function(){var t=!0;this.$checkbox.is(":checked")?(this.$container.addClass("on").removeClass("off"),e.setLabels("")):(this.$container.addClass("off").removeClass("on"),e.setLabels(n),t=!1),r.A.saveSettings({girls:t})}}])&&i(o.prototype,a),s&&i(o,s),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,a,s}();e.GamesGirlsSwitcher=o}(window,jQuery),$((function(){$(".switch--girls-games").each((function(){new GamesGirlsSwitcher(this)}))}));n(8101),n(6890);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function c(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var l=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.endpoint="/tracking/search_query",this.cookieName="_y8_srch",this.cookieExpiration=1,this.cookieDomain=".".concat(window.location.hostname.split(".").slice(-2).join(".")),this.cookieOptions={path:"/",domain:this.cookieDomain,expires:this.cookieExpiration},this.limitQueryLength=50},(t=[{key:"track",value:function(){var e=this;this.syncCache(),$(document).on("submit",".js-items-search-form",(function(t){return e.handleFormSubmit(t)}))}},{key:"handleFormSubmit",value:function(e){var t=$(e.currentTarget).find("#q").val(),n=$(e.currentTarget).find("#kind").val(),r="".concat(this.sanitize(t),":").concat(n);return Cookies.set(this.cookieName,r,this.cookieOptions),!0}},{key:"syncCache",value:function(){var e=this,t=Cookies.get(this.cookieName);if(t){t=t.split(":");var n=this.sanitize(t[0]),r=t[1];$.ajax({url:this.endpoint,type:"POST",data:{q:n,kind:r}}).done((function(){return e.cleanCache()}))}}},{key:"cleanCache",value:function(){Cookies.remove(this.cookieName,this.cookieOptions)}},{key:"sanitize",value:function(e){return e&&0!==e.length?e.toLowerCase().replace(/\s+/g," ").substring(0,this.limitQueryLength).trim():e}}])&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();$((function(){"requestIdleCallback"in window?requestIdleCallback((function(){return(new l).track()})):setTimeout((function(){return(new l).track()}),1)}));n(5114),n(9139),n(3662),n(97),n(4720),n(8481),n(6697),n(3058),n(9599);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function f(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}$((function(){var e,t,n,r,o="rtl"===$("html").attr("dir")||"rtl"===$("html").css("direction");function i(e){if(!e.hasClass("slick-initialized")&&!e.hasClass("slick-slider--static")){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(!(t<1024)){var n=3;t>=1365&&(n=4),t>=1479&&(n=5),t>=1679&&(n=6),t>=1919&&(n=7),t>=2239&&(n=8),t>=2639&&(n=10),e.children(".item").length<=n?e.addClass("slick-slider--static"):(e.slick({slidesToShow:1,slidesToScroll:1,mobileFirst:!0,centerMode:!1,rows:1,arrows:!0,variableWidth:!1,focusOnSelect:!1,focusOnChange:!1,dots:!1,infinite:!1,initialSlide:0,rtl:o,speed:400,responsive:[{breakpoint:1023,settings:{slidesToShow:3,slidesToScroll:3,arrows:!0,variableWidth:!1}},{breakpoint:1365,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:1479,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:1679,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:1919,settings:{slidesToShow:7,slidesToScroll:7}},{breakpoint:2239,settings:{slidesToShow:8,slidesToScroll:8}},{breakpoint:2639,settings:{slidesToShow:10,slidesToScroll:10}}]}),o&&setTimeout((function(){e.find(".slick-track").css("direction","rtl"),e.find(".slick-slide").css("float","right")}),0))}}}function a(e){if(e.hasClass("slick-initialized")){try{e.slick("unslick")}catch(t){}e.addClass("slick-slider")}}o&&$(".slick-slider").attr("dir","rtl").css("direction","rtl"),e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,$(".slick-slider").each((function(){var t=$(this);e<1024?a(t):i(t)})),$(window).on("resize",(t=function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;$(".slick-slider").each((function(){var t=$(this);e<1024?a(t):i(t)}))},n=150,function(){clearTimeout(r);var e=this,o=arguments;r=setTimeout((function(){t.apply(e,o)}),n)}))}));var h=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$navbar=$(".navbar"),this.$burgerMenu=$(".mobile-burger-menu"),this.$userMenu=$(".links-container.sub-menu"),this.$searchInput=$(".navbar .navbar-form .form-control"),this.$searchBtn=$(".mobile-search-user-container .search-btn"),this.$closeSearchBtn=$(".navbar-form .close-search-form"),this.$profileBtn=$(".mobile-search-user-container .profile-btn"),this.$darkOverlay=$(".dark-overlay")},t=[{key:"init",value:function(){$(document).on("scroll",this.scrollHandler.bind(this)),this.$burgerMenu.on("click",this.burgerHandler.bind(this)),this.$searchBtn.on("click",this.searchHandler.bind(this)),this.$closeSearchBtn.on("click",this.closeSearchHandler.bind(this)),this.$profileBtn.on("click",this.profileHandler.bind(this)),this.$darkOverlay.on("click",this.closeSearchHandler.bind(this)),$(document).on("mouseup",(function(e){var t=$(".links-container.sub-menu"),n=$(".mobile-search-user-container .profile-btn");!t.is(":visible")||t.is(e.target)||0!==t.has(e.target).length||n.is(e.target)||0!==n.has(e.target).length||t.fadeOut(200)}))}},{key:"scrollHandler",value:function(){this.$burgerMenu.hasClass("open")&&$(document).scrollTop()>0?this.$navbar.addClass("fixed-navbar"):this.$navbar.removeClass("fixed-navbar")}},{key:"burgerHandler",value:function(){!this.$burgerMenu.hasClass("open")&&this.$navbar.hasClass("show-login-btns")&&this.$navbar.removeClass("show-login-btns"),this.$userMenu.hide(),this.$darkOverlay.removeClass("show"),this.$navbar.removeClass("fixed-navbar show-search-form hide-search-icon"),this.$burgerMenu.toggleClass("open"),this.$navbar.toggleClass("hide-user-icon show-login-btns show-mobile-header-block")}},{key:"searchHandler",value:function(){this.$userMenu.hide(),this.$burgerMenu.removeClass("open"),this.$navbar.removeClass("show-login-btns hide-user-icon show-mobile-header-block"),this.$navbar.toggleClass("show-search-form hide-search-icon"),this.$searchInput.trigger("focus"),this.$darkOverlay.addClass("show")}},{key:"closeSearchHandler",value:function(){this.$navbar.removeClass("show-search-form hide-search-icon"),this.$darkOverlay.removeClass("show")}},{key:"profileHandler",value:function(){this.$navbar.hasClass("logged")?(this.closeSearchHandler(),this.$userMenu.fadeToggle(200)):(this.$darkOverlay.removeClass("show"),this.$burgerMenu.removeClass("open"),this.$navbar.removeClass("show-search-form hide-search-icon hide-user-icon"),this.$navbar.toggleClass("show-login-btns"))}}],t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function p(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var v=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$header=$(".header"),this.$burgerMenu=$(".sidebar"),this.$searchInput=$(".header .navbar-form .form-control"),this.$searchBtn=$(".header__content .header__search-btn"),this.$closeSearchBtn=$(".header .navbar-form .close-search-form"),this.$darkOverlay=$(".dark-overlay"),this.$sidebarLink=$(".sidebar-link"),this.$sidebarSvg=$(".sidebar-link svg"),this.$sidebarItemLink=$('.sidebar__list a, .sidebar__list input[type="submit"]'),this.$sidebarForm=$(".sidebar__list form"),this.$langModal=$(".custom-modal"),this.$langChooserLink=$(".sidebar-item__link.sidebar-item__link--chooser"),this.$langModalClose=$(".custom-modal__close")},t=[{key:"init",value:function(){var e=this;this.$sidebarLink.on("click",this.toggleSidebarHandler.bind(this)),this.$searchBtn.on("click",this.searchHandler.bind(this)),this.$closeSearchBtn.on("click",this.closeSearchHandler.bind(this)),this.$darkOverlay.on("click",this.closeSidebarHandler.bind(this)),this.$sidebarItemLink.on("click",this.setActiveLink.bind(this)),this.$sidebarForm.on("submit",this.setActiveLink.bind(this)),this.$langChooserLink.on("click",this.openLangModal.bind(this)),this.$langModalClose.on("click",this.closeLangModal.bind(this)),this.setActiveLinkOnPageLoad(),$(".dropdown__link").on("click",(function(t){e.$header.removeClass("show-search-form")})),$(document).on("click",(function(t){e.$burgerMenu.hasClass("open")&&!e.$burgerMenu.is(t.target)&&0===e.$burgerMenu.has(t.target).length&&e.closeSidebarHandler()})),this.$darkOverlay.add(this.$langModal).on("click",(function(t){e.$langModal.hasClass("open")&&!$(t.target).closest(".custom-modal__container").length&&e.closeLangModal(t)})),this.$darkOverlay.on("scroll touchmove mousewheel",(function(e){return e.preventDefault(),e.stopPropagation(),!1}))}},{key:"toggleSidebarHandler",value:function(e){e.preventDefault(),e.stopPropagation();var t=$(".dropdown.show");t===event.target||t.has(event.target).length||(t.removeClass("show").find(".dropdown__menu").fadeOut(150),t.find(".dropdown__link").removeClass("active"),t.trigger("dropdown.close")),this.$header.removeClass("show-search-form"),this.$burgerMenu.hasClass("open")?this.closeSidebarHandler():(this.$burgerMenu.addClass("open"),this.$sidebarSvg.addClass("active"),this.showOverlay())}},{key:"openLangModal",value:function(e){var t=this;e.preventDefault(),this.closeSidebarHandler(!1),this.$langModal.addClass("open"),setTimeout((function(){t.$langModal.addClass("animation-open")}),0)}},{key:"closeLangModal",value:function(e){var t=this;e.preventDefault(),this.$langModal.addClass("animation-close"),this.hideOverlay(),setTimeout((function(){t.$langModal.removeClass("animation-close animation-open open")}),400)}},{key:"searchHandler",value:function(){this.closeSidebarHandler(),this.$header.toggleClass("show-search-form"),this.$searchInput.trigger("focus")}},{key:"closeSearchHandler",value:function(){this.closeSidebarHandler(),this.$header.removeClass("show-search-form")}},{key:"closeSidebarHandler",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$burgerMenu.hasClass("open")&&(this.$burgerMenu.addClass("animation-close"),t&&this.hideOverlay(),this.$sidebarSvg.removeClass("active"),setTimeout((function(){e.$burgerMenu.removeClass("open animation-close")}),400))}},{key:"showOverlay",value:function(){this.$darkOverlay.removeClass("hide").addClass("show")}},{key:"hideOverlay",value:function(){var e=this;this.$darkOverlay.removeClass("show").addClass("hide"),setTimeout((function(){e.$darkOverlay.removeClass("hide")}),400)}},{key:"setActiveLink",value:function(e){var t,n=$(e.currentTarget),r=n.closest(".sidebar-item");return"_blank"===n.attr("target")||!r.hasClass("sidebar-item--chooser")&&($(".sidebar-item").removeClass("active"),t="INPUT"===e.currentTarget.tagName?$(e.currentTarget).parent("form").attr("action"):$(e.currentTarget).attr("href"),r.addClass("active"),localStorage.setItem("activeSidebarLink",t),!0)}},{key:"setActiveLinkOnPageLoad",value:function(){var e=window.location.href;this.$sidebarItemLink.each((function(t,n){var r="INPUT"===n.tagName?$(n).parent("form").attr("action"):$(n).attr("href");e.includes(r)&&$(n).closest(".sidebar-item").addClass("active")}))}}],t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),m=v;function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function g(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var b=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$box=$(".notification-manager"),this.$hideButton=$(".notification-manager .actions .hide-notification"),this.$browseBubble=$(".y8-navbar-right .browse .with-notification"),this.cookieValue="notification_forum"},(t=[{key:"process",value:function(){this.isHidden()||this.show()}},{key:"show",value:function(){var e=this;this.$box.show(),this.$hideButton.on("click",(function(t){t.preventDefault(),e.hide()}))}},{key:"hide",value:function(){this.$box.hide(),this.$browseBubble.hide(),Cookies.set(this.cookieValue,!0,this.cookieOptions())}},{key:"isHidden",value:function(){return"true"==Cookies.get(this.cookieValue)}},{key:"cookieOptions",value:function(){return window.appInfo.commonCookieOptions}}])&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),w=n(8398),k=new function(){return{init:function(){$(document).ready((function(){$.each(["notice","alert"],(function(e,t){var n="flash-"+t,r=Cookies.get(n);r&&($("#flash-"+t).html(r.replace(/\+/g," ")),Cookies.remove(n,window.appInfo.commonCookieOptions),$(".flash-"+t).show())})),$(".flash-messages-box").delay(500).slideDown(),$(".flash-messages-box .close").delay(700).show(),"block"==$(".flash-notice").css("display")&&$(".flash-messages-box").delay(4e3).slideUp(),$(".flash-messages-box .close").on("click",(function(e){e.preventDefault,$(".flash-messages-box").slideUp()}))}))}}};function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function C(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var T=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=$("#user_logged_in .links-container")},t=[{key:"init",value:function(){$(document).on("user-info-ready",(function(e,t){if(t&&null!=t){var n=80!=location.port?":"+location.port:"",r=location.protocol+"//"+location.hostname+n+"/users/"+t.user_pid+"/"+t.username;$("#account-menu-link-profile").attr("href",r),$("#account-menu-link-edit-profile").attr("href",t.edit_profile_url),$("#account-menu-link-games").attr("href",r),$("#account-menu-link-loved").attr("href",r),$("#account-menu-link-achievements").attr("href",r),$(".logout").on("click",(function(){window.location.href="/logout"})),$("#account-menu-link-visited").on("click",(function(e){window.location.href=$(e.currentTarget).attr("destination")})),"1"===Cookies.get("_resh")?($("#account-menu-link-my-revenue").on("click",(function(e){window.location.href=$(e.currentTarget).attr("destination")})),$("#account-menu-link-my-revenue").show()):$("#account-menu-link-my-revenue").parent().remove()}})),$(document).on("favorites-count",(function(e,t){$(".js-favorites-count").text(t)})),$(document).on("hearts-count",(function(e,t){$(".js-profile-hearts-count").text(t)})),$(document).on("topMenu.forceClose",this.close.bind(this))}},{key:"open",value:function(){this.$element.fadeToggle(200)}},{key:"close",value:function(){this.$element.is(":visible")&&this.$element.fadeOut(200)}}],t&&O(e.prototype,t),n&&O(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P(r.key),r)}}function P(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var j=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=$(".y8-navbar-right .browse-menu"),this.ready=!1},(t=[{key:"init",value:function(){$(window).on("resize",this.close),$(document).on("topMenu.forceClose",this.close.bind(this))}},{key:"open",value:function(){var e=this;this.ready?this.$element.fadeToggle(200):$.get(this.$element.attr("data-endpoint"),(function(t){e.ready=!0,e.$element.html(t),e.$element.fadeToggle(200)}),"html")}},{key:"close",value:function(){this.$element&&this.$element.is(":visible")&&this.$element.fadeOut(200)}}])&&S(e.prototype,t),n&&S(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function _(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var x=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=$(".y8-navbar-right .newgames-menu")},(t=[{key:"init",value:function(){$(window).on("resize",this.close),$(document).on("topMenu.forceClose",this.close.bind(this))}},{key:"open",value:function(){this.$element.fadeToggle(200)}},{key:"close",value:function(){this.$element&&this.$element.is(":visible")&&this.$element.fadeOut(200)}}])&&E(e.prototype,t),n&&E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),L=n(4463);function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I(r.key),r)}}function I(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var A=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentlyOpen=null,this.$background=$(".header-menu-modal"),this.$topMenu=$(".js-top-menu")},(t=[{key:"init",value:function(){this.initMenus(),this.$topMenu.on("click",this.onClick.bind(this))}},{key:"initMenus",value:function(){this.account=new T,this.account.init(),this.browse=new j,this.browse.init(),this.newgames=new x,this.newgames.init(),this.locale=L.A,this.locale.init()}},{key:"onClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=$(e.currentTarget).data("menu");$(".sub-menu:visible").length&&(this.currentlyOpen=t),this[t]?this.currentlyOpen!=t?this.open(t):this.close():console.warn("Don't know how to handle such menu",t)}},{key:"open",value:function(e){var t=this;this.close(!0),this.$background.fadeIn(200),this[e].open(),this.currentlyOpen=e,$(document).trigger("checkOverlayMenus"),$(".sub-menu").on("click.subMenu",(function(e){e.stopPropagation()})),$(document).on("click.outsideTopMenu",(function(e){e.preventDefault(),e.stopPropagation(),t.close()}))}},{key:"close",value:function(e){$(document).trigger("topMenu.forceClose"),$(".sub-menu").off("click.subMenu"),$(document).off("click.outsideTopMenu"),this.currentlyOpen=null,1!=e&&this.$background.fadeOut(200),$(document).trigger("checkOverlayMenus")}}])&&M(e.prototype,t),n&&M(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),N=n(8782);function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,H(r.key),r)}}function H(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function D(e,t,n){return t=q(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,G()?Reflect.construct(t,n||[],q(e).constructor):t.apply(e,n))}function G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(G=function(){return!!e})()}function R(){return R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},R.apply(null,arguments)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}function F(e,t){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},F(e,t)}var U=["android","desktop"],z=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=D(this,t,[e,n])).filter="device",r.filters=[r.filter,void 0],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(t,e),n=t,i=[{key:"perform",value:function(){var e,n,r,o,i;"mobile"===window.appInfo.device&&document.getElementsByClassName("items-container").length&&(e=t,n="perform",r=this,i=R(q(1&(o=2)?e.prototype:e),n,r),2&o&&"function"==typeof i?function(e){return i.apply(r,e)}:i)([])}}],(o=[{key:"isCompatible",value:function(){for(var e=0,t=U;e<t.length;e++){var n=t[e];if(!1===r.A.SETTINGS[n]&&this.itemIsOnlyFor(n))return!1}return!0}},{key:"itemIsOnlyFor",value:function(e){return this.$item.find(".".concat(e,"-only")).length}}])&&B(n.prototype,o),i&&B(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.A);function W(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,K(r.key),r)}}function K(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var Y=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},(t=[{key:"handle",value:function(){"mobile"===window.appInfo.device&&window.appInfo.ios&&(this.markExcludedItems(),this.observeItemsContainer())}},{key:"markExcludedItems",value:function(){var e=this;$(".item").each((function(t,n){var r=$(n);(r.data("label-ids")||"").split(",").includes(e.excludeIosLabel)&&!r.hasClass("mobile-disallow")&&r.removeClass("mobile-friendly").addClass("mobile-disallow")}))}},{key:"observeItemsContainer",value:function(){var e=this;if(window.MutationObserver){var t=document.getElementById("items_container");t&&new MutationObserver((function(t){var n,r=W(t);try{for(r.s();!(n=r.n()).done;)"childList"===n.value.type&&e.markExcludedItems()}catch(o){r.e(o)}finally{r.f()}})).observe(t,{childList:!0,subtree:!0})}}},{key:"excludeIosLabel",get:function(){return window.appInfo.excludedOnIosLabel}}])&&V(e.prototype,t),n&&V(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();n(3077),n(3634);function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ee(r.key),r)}}function X(e,t,n){return t&&J(e.prototype,t),n&&J(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ee(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var te=function(){return X((function e(){var t=this;Z(this,e),"mobile"===window.appInfo.device&&window.appInfo.ios&&document.querySelector(".expanded-menu")&&(document.querySelector(".expanded-menu.ios").style.display="block",this.showAllToggle=document.getElementById("show-all-games-toggle"),this.desktopToggle=document.getElementById("desktop-games-toggle"),this.androidToggle=document.getElementById("android-games-toggle"),this.subToggles=document.querySelector(".expanded-menu__wrapper"),this.state=z.SETTINGS,this.showAllToggle.checked=!1!==this.state.desktop||!1!==this.state.android,this.desktopToggle.checked=!1!==this.state.desktop,this.androidToggle.checked=!1!==this.state.android,this.showAllToggle.checked&&this.subToggles.classList.add("visible"),this.showAllToggle.addEventListener("change",(function(){return t.onShowAllChange()})),this.desktopToggle.addEventListener("change",(function(){return t.onChange()})),this.androidToggle.addEventListener("change",(function(){return t.onChange()})))}),[{key:"onShowAllChange",value:function(){this.showAllToggle.checked?(this.subToggles.classList.add("visible"),this.androidToggle.checked=!0,this.desktopToggle.checked=!0):(this.subToggles.classList.remove("visible"),this.androidToggle.checked=!1,this.desktopToggle.checked=!1),this.state.android=this.androidToggle.checked,this.state.desktop=this.desktopToggle.checked,z.saveSettings(this.state)}},{key:"onChange",value:function(){this.desktopToggle.checked||this.androidToggle.checked||(this.showAllToggle.checked=!1,this.showAllToggle.dispatchEvent(new Event("change"))),this.state.android=this.androidToggle.checked,this.state.desktop=this.desktopToggle.checked,z.saveSettings(this.state)}}])}(),ne=function(){return X((function e(){var t=this;Z(this,e),"mobile"===window.appInfo.device&&!window.appInfo.ios&&document.querySelector(".expanded-menu")&&(document.querySelector(".expanded-menu.android").style.display="block",this.state=z.SETTINGS,this.desktopToggle=document.getElementById("show-desktop-games-toggle"),this.desktopToggle.checked=!1!==this.state.desktop,this.desktopToggle.addEventListener("change",(function(){return t.onChange()})))}),[{key:"onChange",value:function(){this.state.desktop=this.desktopToggle.checked,z.saveSettings(this.state)}}])}();document.addEventListener("DOMContentLoaded",(function(){"mobile"===window.appInfo.device&&document.querySelector(".expanded-menu")&&(window.appInfo.ios?new te:new ne)})),document.addEventListener("DOMContentLoaded",(function(){(new N.A).add(z,["itemsListUpdated",r.A.SETTINGS_UPDATE_EVENT]).add(o.A,["itemsListUpdated",r.A.SETTINGS_UPDATE_EVENT]).enable().onComplete((function(){$(".items-container").css({visibility:"visible"})}),1e3),(new Y).handle(),(new UserInfo).init(),(new h).init(),(new m).init(),(new w.A).loadCounters(),(new b).process(),(new A).init(),k.init()}))},8691:function(){},1669:function(e){"use strict";e.exports=jQuery}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[97,7853,1840,3957,6590,6126,3302],(function(){return t(4026),t(8691)}));e.O()}]);