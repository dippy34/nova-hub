<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escape Tsunami for Brainrots</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: #000;
        }
        #unity-container {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #unity-canvas {
            width: 100%;
            height: 100%;
            display: block;
        }
    </style>
</head>
<body>
    <div id="unity-container">
        <canvas id="unity-canvas"></canvas>
    </div>
    <script>
        // Mock GamePush SDK to prevent external API calls
        (function() {
            window.GamePush = {
                Platform: { Desktop: true },
                Ad: { 
                    Close: function() { return false; },
                    Show: function() { return Promise.resolve(); },
                    ShowRewarded: function() { return Promise.resolve(); }
                },
                Game: { 
                    OnPause: function(callback) { return callback && callback(true); },
                    OnResume: function(callback) { return callback && callback(false); }
                },
                Plugin: { 
                    Initialize: function() { console.log('GamePush Plugin initialized (mock)'); }
                },
                Running: function() { return true; },
                noDeviceRestrictions: true,
                adblock: false,
                // Add more mock methods to prevent errors
                Player: {
                    Get: function() { return Promise.resolve({ id: 'local', name: 'Player' }); }
                },
                Payments: {
                    Purchase: function() { return Promise.reject(new Error('Payments not available')); }
                }
            };
            
            // Prevent GamePush script from loading
            const originalCreateElement = document.createElement.bind(document);
            Object.defineProperty(document, 'createElement', {
                value: function(tagName) {
                    const element = originalCreateElement(tagName);
                    if (tagName === 'script' && element.src && element.src.includes('gamepush')) {
                        element.src = '';
                        element.onload = null;
                        element.onerror = null;
                    }
                    return element;
                },
                writable: true,
                configurable: true
            });
        })();
    </script>
    <script src="cee3bfd5589651a8b16e2a12b8abe5b3.loader.js"></script>
    <script>
        createUnityInstance(document.querySelector("#unity-canvas"), {
            dataUrl: "4eba8bf4d81eff99bbdfbd305a700d65.data.unityweb",
            frameworkUrl: "b505e8ebc69ef1ce4d19e689723d382f.framework.js.unityweb",
            codeUrl: "02dc25b205b7cdf8b62c38201eb1aa08.wasm.unityweb",
            streamingAssetsUrl: "StreamingAssets",
            companyName: "Playgama",
            productName: "Escape Tsunami for Brainrots",
            productVersion: "1.0",
            autoSyncPersistentDataPath: true,
            showBanner: function(msg, type) {
                if (type === "error") {
                    console.error("Unity Error: " + msg);
                } else if (type === "warning") {
                    console.warn("Unity Warning: " + msg);
                } else {
                    console.log("Unity: " + msg);
                }
            },
            onProgress: function(progress) {
                if (progress === 1) {
                    console.log("Unity loaded successfully");
                }
            }
        }).then(function(instance) {
            console.log("Unity instance created");
        }).catch(function(error) {
            console.error("Failed to create Unity instance:", error);
        });
    </script>
</body>
</html>
