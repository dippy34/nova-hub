let backup_icon,backup_name,socket;try{socket=location.origin.includes("https")?new WebSocket(`wss://${location.host}/socket`):new WebSocket(`ws://${location.host}/socket`),socket.addEventListener("open",e=>{let t=document.cookie.split("; ");for(let e=0;e<t.length;e++)t[e].trim().startsWith("token=")&&socket.send(t[e].trim())}),socket.addEventListener("error",e=>{}),socket.addEventListener("message",e=>{if("ping"!=e.data){if(e.data.startsWith("announce.")){let t=document.createElement("style");t.innerHTML='@import url("https://fonts.googleapis.com/css2?family=Prompt:wght@300&display=swap");.announce {font-family: "Prompt", sans-serif;position: absolute;margin-left: auto;margin-right: auto;top: 10px;z-index: 10000000;background-color: #a53026;padding: 10px;width: max-content;border-radius: 10px;left:0;right:0;border-color: #f74f40;border-width: 5px;border-radius: 10px;border-style: solid;max-width: 60%;font-size: 16px;color: white;}@keyframes FadeIn {0% {opacity: 0;}100% {opacity: 1;}}@keyframes FadeOut {0% {opacity: 1;}100% {opacity: 0;}}';let o=document.createElement("div");o.innerText=e.data.substring(9),o.setAttribute("class","announce"),o.style.opacity="0",o.style.animation="FadeIn 1s ease-in-out forwards",document.head.appendChild(t),document.body.appendChild(o),setTimeout(()=>{o.style.animation="FadeOut 1s ease-in-out forwards",setTimeout(()=>{o.remove(),t.remove()},1e3)},14e3)}}else socket.send(`pong${location.pathname.includes("/semag/")?location.pathname.split("/")[2]:""}`)})}catch(e){}let cloakIconElement=null,cloakTitleBackup=null;function setCloak(e,t){if(cloakTitleBackup||(cloakTitleBackup=document.title),e)document.title=e;else{var o=getCookie("tabname");o&&(document.title=o)}var n=t||getCookie("tabicon");if(n){if(!cloakIconElement){const e=document.querySelectorAll("link[rel~='icon'], link[rel~='shortcut icon']");e.length>0&&!backup_icon&&(backup_icon=e[0].cloneNode(!0)),e.forEach(e=>e.remove()),cloakIconElement=document.createElement("link"),cloakIconElement.rel="icon",document.head.appendChild(cloakIconElement)}cloakIconElement.href=n}panicMode()}if(function(){if("loading"===document.readyState){if(document.head)try{cloakTitleBackup=document.title;const e=document.querySelector("link[rel~='icon'], link[rel~='shortcut icon']");e&&!backup_icon&&(backup_icon=e.cloneNode(!0)),setCloak()}catch(e){}}else{cloakTitleBackup=document.title;const e=document.querySelector("link[rel~='icon'], link[rel~='shortcut icon']");e&&!backup_icon&&(backup_icon=e.cloneNode(!0)),setCloak()}}(),1==getCookie("debugging")){const e=document.createElement("script");e.setAttribute("src","/js/debug.js"),document.head.append(e)}function getCookie(e){let t=e+"=",o=decodeURIComponent(document.cookie).split(";");for(let e=0;e<o.length;e++){let n=o[e];for(;" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}function setCookie(e,t,o=365){const n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);const i="expires="+n.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}function removeCookie(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}window.getCookie=getCookie,window.setCookie=setCookie,window.removeCookie=removeCookie,function(){const e={"selenite.theme":"novahub.theme","selenite.customTheme":"novahub.customTheme","selenite.lastGame":"novahub.lastGame","selenite.blockClose":"novahub.blockClose","selenite.tabDisguise":"novahub.tabDisguise","selenite.discordIcon":"novahub.discordIcon","selenite.adblock":"novahub.adblock","selenite.password":"novahub.password","selenite.passwordAtt":"novahub.passwordAtt"},t=document.cookie.split("; ");for(const o of t){const t=o.trim().split("=");if(t.length>=2&&e[t[0]]){const o=e[t[0]],n=t.slice(1).join("=").trim();!getCookie(o)&&n&&setCookie(o,n),removeCookie(t[0])}}for(const[t,o]of Object.entries(e)){const e=localStorage.getItem(t);null===e||localStorage.getItem(o)||localStorage.setItem(o,e),localStorage.removeItem(t)}}();let listofchars="";function panicMode(){panicurl=getCookie("panicurl"),""==panicurl&&(panicurl="https://google.com")}document.addEventListener("keydown",e=>{listofchars+=e.key,listofchars.length>20&&(listofchars=listofchars.substring(e.key.length)),listofchars.includes("safemode")?(window.location.href=panicurl,listofchars=""):listofchars.includes("debugplz")&&(1==getCookie("debugging")?(document.cookie="debugging=0;",alert("debugging off!")):(document.cookie="debugging=1",alert("debugging on!")),listofchars="")}),document.addEventListener("DOMContentLoaded",()=>{cloakTitleBackup||(cloakTitleBackup=document.title);const e=document.querySelector("link[rel~='icon'], link[rel~='shortcut icon']");e&&!backup_icon&&(backup_icon=e.cloneNode(!0)),setCloak();let t=document.createElement("script");t.setAttribute("event-domain",location.host),t.setAttribute("defer",""),t.setAttribute("src","/js/analytics.js"),t.setAttribute("data-domain","nova-hub.pages.dev"),document.head.appendChild(t)},!1);let blockCloseEnabled="true"==getCookie("novahub.blockClose");"true"==localStorage.getItem("novahub.blockClose")&&(setCookie("novahub.blockClose","true"),localStorage.removeItem("novahub.blockClose"),blockCloseEnabled=!0),location.pathname.substring(1).includes("semag")&&blockCloseEnabled&&(window.onbeforeunload=function(){return""});let visibilityTimeout=null;addEventListener("visibilitychange",e=>{let t="true"==getCookie("novahub.tabDisguise");"true"==localStorage.getItem("novahub.tabDisguise")&&(setCookie("novahub.tabDisguise","true"),localStorage.removeItem("novahub.tabDisguise"),t=!0),t&&(visibilityTimeout&&clearTimeout(visibilityTimeout),requestAnimationFrame(()=>{"hidden"===document.visibilityState?setCloak("Google","https://www.google.com/favicon.ico"):(cloakIconElement&&(cloakIconElement.href=backup_icon?backup_icon.href:location.origin+"/nova-favicon.ico"),cloakTitleBackup?document.title=cloakTitleBackup:backup_name&&(document.title=backup_name))}))});var polyfillScript=document.createElement("script");function fps(){var e=document.createElement("script");e.onload=function(){var e=new Stats;document.body.appendChild(e.dom),requestAnimationFrame(function t(){e.update(),requestAnimationFrame(t)}),setCookie("fps","true")},e.src="https://cdn.jsdelivr.net/gh/mrdoob/stats.js@master/build/stats.min.js",document.head.appendChild(e)}polyfillScript.src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?version=4.8.0",document.head.appendChild(polyfillScript);let fpsEnabled="true"==getCookie("fps");localStorage.getItem("fps")&&(setCookie("fps","true"),localStorage.removeItem("fps"),fpsEnabled=!0),fpsEnabled&&fps();